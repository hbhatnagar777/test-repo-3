<?xml version="1.0" encoding="UTF-8"?>
<Workflow_WorkflowDefinition apiMode="0" config="&lt;configuration />"
    description="Workflow to create plans" executeOnWeb="0"
    inputs="&lt;inputs>&lt;PlanName class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;Storage class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;RetentionPeriod class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>30&lt;/RetentionPeriod>&lt;BackupFrequency class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>1 days&lt;/BackupFrequency>&lt;StartTime class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>21:00&lt;/StartTime>&lt;CompanyName class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>&lt;/CompanyName>&lt;/inputs>"
    interactive="0" isHtmlDescription="0" manualPercentageComplete="0"
    name="CreatePlan" outputs="&lt;outputs />" revision="$Revision: 1.2 $"
    tags="" uniqueGuid="b36f24a8-2b91-4331-8325-5b58a63b6bd6"
    variables="&lt;variables>&lt;EpochStartTime class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>75600&lt;/EpochStartTime>&lt;RPOInMinutes class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>1440&lt;/RPOInMinutes>&lt;RPODescription class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>Everyday at 21:00&lt;/RPODescription>&lt;RPOFrequencyType class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>Daily&lt;/RPOFrequencyType>&lt;EpochEndTime class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>86340&lt;/EpochEndTime>&lt;FrequencyInterval class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>1&lt;/FrequencyInterval>&lt;FrequencyRecFactor class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>1&lt;/FrequencyRecFactor>&lt;DedupFlags class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;OrganizationId class=&quot;java.lang.Integer&quot; _list_=&quot;false&quot;>&lt;/OrganizationId>&lt;/variables>"
    webHidden="0" workflowId="0">
    <schema>
        <outputs className="" name="outputs" type=""/>
        <variables attribute="0" className="" name="variables" type="">
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="EpochStartTime" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="RPOInMinutes" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="RPODescription" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="RPOFrequencyType" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="EpochEndTime" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="FrequencyInterval" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="FrequencyRecFactor" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="DedupFlags" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.Integer"
                controlType="0" defaultValue="" hidden="0"
                inputType="java.lang.Integer" listType="0"
                name="OrganizationId" type="{http://www.w3.org/2001/XMLSchema}integer"/>
        </variables>
        <inputs attribute="0" className="" name="inputs" type="">
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.String" listType="0"
                name="PlanName" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.String" listType="0"
                name="Storage" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="RetentionPeriod" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="BackupFrequency" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="0" name="StartTime" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.String" listType="0"
                name="CompanyName" type="{http://www.w3.org/2001/XMLSchema}string"/>
        </inputs>
        <config className="" name="configuration" type=""/>
    </schema>
    <Start commented="0" continueOnFailure="0" created="0"
        description="" displayName="Start" height="36" interactive="0"
        jobMode="0" name="Start" originalStyle="" skipAttempt="0"
        style="image;image=/images/jgraphx/house.png"
        uniqueName="Start_1" waitSetting="0" width="58" x="45" y="41">
        <inputs val="&lt;inputs />"/>
        <transition activity="CommServDBQuery_1" commented="0"
            originalStyle="" points="" sourceX="74" sourceY="59"
            status="0" style="defaultEdge" targetX="203" targetY="62"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Start>
    <Activity commented="0" continueOnFailure="0"
        created="1589807578332" description="performs http operations"
        displayName="HttpClient" height="34" interactive="0" jobMode="0"
        name="HttpClient"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.HttpClientActivity"
        uniqueName="HttpClient_1" waitSetting="0" width="100" x="180" y="180">
        <inputs val="&lt;inputs>&lt;request>&lt;url>/SearchSvc/CVWebService.svc/v2/Plan&lt;/url>&lt;method>POST&lt;/method>&lt;postType>Raw&lt;/postType>&lt;postContent>{&#xd;&#xa;  &quot;plan&quot;: {&#xd;&#xa;    &quot;summary&quot;: {&#xd;&#xa;      &quot;plan&quot;: {&#xd;&#xa;        &quot;planName&quot;:&quot;xpath:{/workflow/inputs/PlanName}&quot;&#xd;&#xa;      },&#xd;&#xa;      &quot;type&quot;: &quot;MSP&quot;,&#xd;&#xa;      &quot;subtype&quot;: &quot;Server&quot;,&#xd;&#xa;      &quot;description&quot;: &quot;xpath:{/workflow/inputs/PlanName}&quot;,&#xd;&#xa;      &quot;planOwner&quot;: {&#xd;&#xa;        &quot;userId&quot;: xpath:{/workflow/system/executor/userId}&#xd;&#xa;      },&#xd;&#xa;      &quot;restrictions&quot;: 1,&#xd;&#xa;      &quot;rpoInMinutes&quot;: xpath:{/workflow/variables/RPOInMinutes},&#xd;&#xa;      &quot;slaInterval&quot;: 0,&#xd;&#xa;      &quot;addons&quot;: {&#xd;&#xa;        &quot;database&quot;: true,&#xd;&#xa;        &quot;snap&quot;: true,&#xd;&#xa;        &quot;filesystem&quot;: true&#xd;&#xa;      }&#xd;&#xa;    },&#xd;&#xa;    &quot;options&quot;: {&#xd;&#xa;      &quot;quota&quot;: 0&#xd;&#xa;    },&#xd;&#xa;    &quot;schedule&quot;: {&#xd;&#xa;      &quot;task&quot;: {&#xd;&#xa;        &quot;taskFlags&quot;: {&#xd;&#xa;          &quot;disabled&quot;: false,&#xd;&#xa;          &quot;isEZOperation&quot;: false,&#xd;&#xa;          &quot;isEdgeDrive&quot;: false&#xd;&#xa;        },&#xd;&#xa;        &quot;taskType&quot;: &quot;SCHEDULE_POLICY&quot;&#xd;&#xa;      },&#xd;&#xa;      &quot;subTasks&quot;: [&#xd;&#xa;        {&#xd;&#xa;          &quot;subTask&quot;: {&#xd;&#xa;            &quot;subTaskName&quot;: &quot;Incremental backup schedule&quot;,&#xd;&#xa;            &quot;subTaskId&quot;: 1,&#xd;&#xa;            &quot;subTaskType&quot;: &quot;BACKUP&quot;,&#xd;&#xa;            &quot;operationType&quot;: &quot;BACKUP&quot;,&#xd;&#xa;            &quot;flags&quot;: 65536&#xd;&#xa;          },&#xd;&#xa;          &quot;pattern&quot;: {&#xd;&#xa;            &quot;name&quot;: &quot;Incremental backup schedule&quot;,&#xd;&#xa;            &quot;freq_type&quot;: &quot;xpath:{/workflow/variables/RPOFrequencyType}&quot;,&#xd;&#xa;            &quot;freq_interval&quot;: xpath:{/workflow/variables/FrequencyInterval},&#xd;&#xa;            &quot;freq_recurrence_factor&quot;: xpath:{/workflow/variables/FrequencyRecFactor},&#xd;&#xa;            &quot;freq_subday_interval&quot;: 0,&#xd;&#xa;            &quot;active_start_date&quot;: 0,&#xd;&#xa;            &quot;active_start_time&quot;: xpath:{/workflow/variables/EpochStartTime},&#xd;&#xa;            &quot;active_end_time&quot;: xpath:{/workflow/variables/EpochEndTime},&#xd;&#xa;            &quot;active_end_occurence&quot;: 0,&#xd;&#xa;            &quot;timeZone&quot;: {&#xd;&#xa;              &quot;TimeZoneID&quot;: 1001,&#xd;&#xa;              &quot;TimeZoneName&quot;: &quot;Client Time Zone&quot;&#xd;&#xa;            },&#xd;&#xa;            &quot;description&quot;: &quot;xpath:{/workflow/variables/RPODescription} &quot;&#xd;&#xa;          },&#xd;&#xa;          &quot;options&quot;: {&#xd;&#xa;            &quot;backupOpts&quot;: {&#xd;&#xa;              &quot;backupLevel&quot;: &quot;INCREMENTAL&quot;,&#xd;&#xa;              &quot;dataOpt&quot;: {&#xd;&#xa;                &quot;daysBetweenSyntheticBackup&quot;: 0&#xd;&#xa;              },&#xd;&#xa;              &quot;runIncrementalBackup&quot;: true,&#xd;&#xa;              &quot;incLevel&quot;: &quot;BEFORE_SYNTH&quot;,&#xd;&#xa;              &quot;isSpHasInLineCopy&quot;: false,&#xd;&#xa;              &quot;doNotTruncateLog&quot;: false,&#xd;&#xa;              &quot;sybaseSkipFullafterLogBkp&quot;: false,&#xd;&#xa;              &quot;runSILOBackup&quot;: false&#xd;&#xa;            }&#xd;&#xa;          }&#xd;&#xa;        },&#xd;&#xa;        {&#xd;&#xa;          &quot;subTask&quot;: {&#xd;&#xa;            &quot;subTaskName&quot;: &quot;Synthetic Fulls&quot;,&#xd;&#xa;            &quot;subTaskId&quot;: 1,&#xd;&#xa;            &quot;subTaskType&quot;: &quot;BACKUP&quot;,&#xd;&#xa;            &quot;operationType&quot;: &quot;BACKUP&quot;,&#xd;&#xa;            &quot;flags&quot;: 0&#xd;&#xa;          },&#xd;&#xa;          &quot;pattern&quot;: {&#xd;&#xa;            &quot;name&quot;: &quot;Synthetic Fulls&quot;,&#xd;&#xa;            &quot;freq_type&quot;: &quot;Automatic_Schedule&quot;,&#xd;&#xa;            &quot;freq_recurrence_factor&quot;: 0,&#xd;&#xa;            &quot;freq_subday_interval&quot;: 0,&#xd;&#xa;            &quot;active_end_time&quot;: 0,&#xd;&#xa;            &quot;timeZone&quot;: {},&#xd;&#xa;            &quot;description&quot;: &quot;Based on automatic schedule settings&quot;&#xd;&#xa;          },&#xd;&#xa;          &quot;options&quot;: {&#xd;&#xa;            &quot;backupOpts&quot;: {&#xd;&#xa;              &quot;backupLevel&quot;: &quot;SYNTHETIC_FULL&quot;,&#xd;&#xa;              &quot;dataOpt&quot;: {&#xd;&#xa;                &quot;createNewIndex&quot;: true,&#xd;&#xa;                &quot;followMountPoints&quot;: true,&#xd;&#xa;                &quot;useCatalogServer&quot;: true,&#xd;&#xa;                &quot;enforceTransactionLogUsage&quot;: false,&#xd;&#xa;                &quot;skipConsistencyCheck&quot;: false,&#xd;&#xa;                &quot;useMultiStream&quot;: true,&#xd;&#xa;                &quot;useMaximumStreams&quot;: true,&#xd;&#xa;                &quot;maxNumberOfStreams&quot;: 1,&#xd;&#xa;                &quot;autoCopy&quot;: true,&#xd;&#xa;                &quot;daysBetweenSyntheticBackup&quot;: xpath:{/workflow/inputs/RetentionPeriod}&#xd;&#xa;              },&#xd;&#xa;              &quot;vsaBackupOptions&quot;: {&#xd;&#xa;                &quot;backupFailedVMsOnly&quot;: false&#xd;&#xa;              },&#xd;&#xa;              &quot;runIncrementalBackup&quot;: false,&#xd;&#xa;              &quot;incLevel&quot;: &quot;NONE&quot;,&#xd;&#xa;              &quot;doNotTruncateLog&quot;: false,&#xd;&#xa;              &quot;truncateLogsOnSource&quot;: false&#xd;&#xa;            },&#xd;&#xa;            &quot;commonOpts&quot;: {&#xd;&#xa;              &quot;automaticSchedulePattern&quot;: {&#xd;&#xa;                &quot;minBackupInterval&quot;: 0,&#xd;&#xa;                &quot;minBackupIntervalMinutes&quot;: 15,&#xd;&#xa;                &quot;maxBackupInterval&quot;: 72,&#xd;&#xa;                &quot;maxBackupIntervalMinutes&quot;: 0,&#xd;&#xa;                &quot;minSyncInterval&quot;: 0,&#xd;&#xa;                &quot;minSyncIntervalMinutes&quot;: 0,&#xd;&#xa;                &quot;wiredNetworkConnection&quot;: {&#xd;&#xa;                  &quot;enabled&quot;: false&#xd;&#xa;                },&#xd;&#xa;                &quot;specfificNetwork&quot;: {&#xd;&#xa;                  &quot;enabled&quot;: false,&#xd;&#xa;                  &quot;ipAddress&quot;: {&#xd;&#xa;                    &quot;address&quot;: &quot;0.0.0.0&quot;,&#xd;&#xa;                    &quot;subnet&quot;: 24&#xd;&#xa;                  }&#xd;&#xa;                },&#xd;&#xa;                &quot;acPower&quot;: {&#xd;&#xa;                  &quot;enabled&quot;: false&#xd;&#xa;                },&#xd;&#xa;                &quot;stopIfOnBattery&quot;: {&#xd;&#xa;                  &quot;enabled&quot;: false&#xd;&#xa;                },&#xd;&#xa;                &quot;minNetworkBandwidth&quot;: {&#xd;&#xa;                  &quot;enabled&quot;: false&#xd;&#xa;                },&#xd;&#xa;                &quot;newOrModifiedFile&quot;: {&#xd;&#xa;                  &quot;enabled&quot;: false&#xd;&#xa;                },&#xd;&#xa;                &quot;stopSleepIfBackUp&quot;: {&#xd;&#xa;                  &quot;enabled&quot;: false&#xd;&#xa;                },&#xd;&#xa;                &quot;ignoreOpWindowPastMaxInterval&quot;: true&#xd;&#xa;              }&#xd;&#xa;            }&#xd;&#xa;          }&#xd;&#xa;        }&#xd;&#xa;      ]&#xd;&#xa;    },&#xd;&#xa;    &quot;storage&quot;: {&#xd;&#xa;      &quot;copy&quot;: [&#xd;&#xa;        {&#xd;&#xa;          &quot;StoragePolicyCopy&quot;: {&#xd;&#xa;            &quot;copyName&quot;: &quot;Primary&quot;&#xd;&#xa;          },&#xd;&#xa;          &quot;copyType&quot;: &quot;SYNCHRONOUS&quot;,&#xd;&#xa;          &quot;isDefault&quot;: &quot;SET_TRUE&quot;,&#xd;&#xa;          &quot;active&quot;: &quot;SET_TRUE&quot;,&#xd;&#xa;          &quot;extendedFlags&quot;: {&#x9;&#xd;&#xa;            &quot;useGlobalStoragePolicy&quot;: &quot;SET_TRUE&quot;&#xd;&#xa;          },&#xd;&#xa;          &quot;retentionRules&quot;: {&#xd;&#xa;            &quot;retentionFlags&quot;: {&#xd;&#xa;              &quot;enableDataAging&quot;: &quot;SET_TRUE&quot;&#xd;&#xa;            },&#xd;&#xa;            &quot;retainBackupDataForDays&quot;: xpath:{/workflow/inputs/RetentionPeriod},&#xd;&#xa;            &quot;retainArchiverDataForDays&quot;: -1&#xd;&#xa;          },&#xd;&#xa;          &quot;useGlobalPolicy&quot;: {&#xd;&#xa;            &quot;storagePolicyName&quot;: &quot;xpath:{/workflow/inputs/Storage}&quot;&#xd;&#xa;          },&#xd;&#xa;          &quot;dedupeFlags&quot;: {&#xd;&#xa;            xpath:{/workflow/variables/DedupFlags}&#xd;&#xa;          }&#xd;&#xa;        },&#xd;&#xa;        {&#xd;&#xa;          &quot;copyType&quot;: &quot;SNAP&quot;,&#xd;&#xa;          &quot;isDefault&quot;: &quot;SET_FALSE&quot;,&#xd;&#xa;          &quot;isSnapCopy&quot;: &quot;SET_TRUE&quot;,&#xd;&#xa;          &quot;active&quot;: &quot;SET_TRUE&quot;,&#xd;&#xa;          &quot;retentionRules&quot;: {&#xd;&#xa;            &quot;retentionFlags&quot;: {&#xd;&#xa;              &quot;jobBasedRetention&quot;: &quot;SET_TRUE&quot;&#xd;&#xa;            },&#xd;&#xa;            &quot;retainBackupDataForDays&quot;: 15,&#xd;&#xa;            &quot;retainBackupDataForCycles&quot;: 1,&#xd;&#xa;            &quot;retainArchiverDataForDays&quot;: -1,&#xd;&#xa;            &quot;jobs&quot;: 8&#xd;&#xa;          },&#xd;&#xa;          &quot;copyPrecedence&quot;: 1&#xd;&#xa;        }&#xd;&#xa;      ],&#xd;&#xa;      &quot;enableBackupCopy&quot;: true&#xd;&#xa;    },&#xd;&#xa;    &quot;laptop&quot;: {&#xd;&#xa;      &quot;content&quot;: {&#xd;&#xa;        &quot;backupContent&quot;: [&#xd;&#xa;          {&#xd;&#xa;            &quot;subClientPolicy&quot;: {&#xd;&#xa;              &quot;backupSetEntity&quot;: {&#xd;&#xa;                &quot;backupsetName&quot;: &quot;Windows subclient policy&quot;&#xd;&#xa;              },&#xd;&#xa;              &quot;subClientList&quot;: [&#xd;&#xa;                {&#xd;&#xa;                  &quot;commonProperties&quot;: {&#xd;&#xa;                    &quot;storageDevice&quot;: {&#xd;&#xa;                      &quot;softwareCompression&quot;: &quot;USE_STORAGE_POLICY_SETTINGS&quot;,&#xd;&#xa;                      &quot;deDuplicationOptions&quot;: {&#xd;&#xa;                        &quot;enableDeduplication&quot;: true,&#xd;&#xa;                        &quot;generateSignature&quot;: &quot;ON_CLIENT&quot;&#xd;&#xa;                      }&#xd;&#xa;                    },&#xd;&#xa;                    &quot;readBuffersize&quot;: 512,&#xd;&#xa;                    &quot;numberOfBackupStreams&quot;: 4&#xd;&#xa;                  },&#xd;&#xa;                  &quot;content&quot;: [&#xd;&#xa;                    {&#xd;&#xa;                      &quot;path&quot;: &quot;\\&quot;&#xd;&#xa;                    }&#xd;&#xa;                  ],&#xd;&#xa;                  &quot;contentOperationType&quot;: &quot;OVERWRITE&quot;,&#xd;&#xa;                  &quot;fsSubClientProp&quot;: {&#xd;&#xa;                    &quot;useVSS&quot;: true,&#xd;&#xa;                    &quot;useVSSForSystemState&quot;: true,&#xd;&#xa;                    &quot;backupSystemState&quot;: false,&#xd;&#xa;                    &quot;backupSystemStateforFullBkpOnly&quot;: false,&#xd;&#xa;                    &quot;keepAtLeastPreviousVersions&quot;: 5,&#xd;&#xa;                    &quot;catalogACL&quot;: true,&#xd;&#xa;                    &quot;scanOption&quot;: &quot;OPTIMAL_SCAN&quot;&#xd;&#xa;                  }&#xd;&#xa;                }&#xd;&#xa;              ]&#xd;&#xa;            },&#xd;&#xa;            &quot;idatype&quot;: 2&#xd;&#xa;          },&#xd;&#xa;          {&#xd;&#xa;            &quot;subClientPolicy&quot;: {&#xd;&#xa;              &quot;backupSetEntity&quot;: {&#xd;&#xa;                &quot;backupsetName&quot;: &quot;Linux subclient policy&quot;&#xd;&#xa;              },&#xd;&#xa;              &quot;subClientList&quot;: [&#xd;&#xa;                {&#xd;&#xa;                  &quot;commonProperties&quot;: {&#xd;&#xa;                    &quot;storageDevice&quot;: {&#xd;&#xa;                      &quot;softwareCompression&quot;: &quot;USE_STORAGE_POLICY_SETTINGS&quot;,&#xd;&#xa;                      &quot;deDuplicationOptions&quot;: {&#xd;&#xa;                        &quot;enableDeduplication&quot;: true,&#xd;&#xa;                        &quot;generateSignature&quot;: &quot;ON_CLIENT&quot;&#xd;&#xa;                      }&#xd;&#xa;                    },&#xd;&#xa;                    &quot;readBuffersize&quot;: 512,&#xd;&#xa;                    &quot;numberOfBackupStreams&quot;: 4&#xd;&#xa;                  },&#xd;&#xa;                  &quot;content&quot;: [&#xd;&#xa;                     {&#xd;&#xa;                      &quot;path&quot;: &quot;/&quot;&#xd;&#xa;                    }&#xd;&#xa;                  ],&#xd;&#xa;                  &quot;contentOperationType&quot;: &quot;OVERWRITE&quot;,&#xd;&#xa;                  &quot;fsSubClientProp&quot;: {&#xd;&#xa;                    &quot;useVSS&quot;: true,&#xd;&#xa;                    &quot;keepAtLeastPreviousVersions&quot;: 5,&#xd;&#xa;                    &quot;catalogACL&quot;: true,&#xd;&#xa;                    &quot;scanOption&quot;: &quot;RECURSIVE_SCAN&quot;&#xd;&#xa;                  }&#xd;&#xa;                }&#xd;&#xa;              ]&#xd;&#xa;            },&#xd;&#xa;            &quot;idatype&quot;: 3&#xd;&#xa;          },&#xd;&#xa;          {&#xd;&#xa;            &quot;subClientPolicy&quot;: {&#xd;&#xa;              &quot;backupSetEntity&quot;: {&#xd;&#xa;                &quot;backupsetName&quot;: &quot;Mac subclient policy&quot;&#xd;&#xa;              },&#xd;&#xa;              &quot;subClientList&quot;: [&#xd;&#xa;                {&#xd;&#xa;                  &quot;commonProperties&quot;: {&#xd;&#xa;                    &quot;storageDevice&quot;: {&#xd;&#xa;                      &quot;softwareCompression&quot;: &quot;USE_STORAGE_POLICY_SETTINGS&quot;,&#xd;&#xa;                      &quot;deDuplicationOptions&quot;: {&#xd;&#xa;                        &quot;enableDeduplication&quot;: true,&#xd;&#xa;                        &quot;generateSignature&quot;: &quot;ON_CLIENT&quot;&#xd;&#xa;                      }&#xd;&#xa;                    },&#xd;&#xa;                    &quot;readBuffersize&quot;: 512,&#xd;&#xa;                    &quot;numberOfBackupStreams&quot;: 4&#xd;&#xa;                  },&#xd;&#xa;                  &quot;content&quot;: [&#xd;&#xa;                    {&#xd;&#xa;                      &quot;path&quot;: &quot;/&quot;&#xd;&#xa;                    }&#xd;&#xa;                  ],&#xd;&#xa;                  &quot;contentOperationType&quot;: &quot;OVERWRITE&quot;,&#xd;&#xa;                  &quot;fsSubClientProp&quot;: {&#xd;&#xa;                    &quot;useVSS&quot;: true,&#xd;&#xa;                    &quot;keepAtLeastPreviousVersions&quot;: 5,&#xd;&#xa;                    &quot;catalogACL&quot;: true,&#xd;&#xa;                    &quot;scanOption&quot;: &quot;RECURSIVE_SCAN&quot;&#xd;&#xa;                  }&#xd;&#xa;                }&#xd;&#xa;              ]&#xd;&#xa;            },&#xd;&#xa;            &quot;idatype&quot;: 4&#xd;&#xa;          }&#xd;&#xa;        ]&#xd;&#xa;      }&#xd;&#xa;    },&#xd;&#xa;    &quot;database&quot;: {&#xd;&#xa;      &quot;scheduleLog&quot;: {&#xd;&#xa;        &quot;task&quot;: {&#xd;&#xa;          &quot;taskName&quot;: &quot;Log schedule policy for the database clients&quot;,&#xd;&#xa;          &quot;taskFlags&quot;: {&#xd;&#xa;            &quot;isEdgeDrive&quot;: false&#xd;&#xa;          },&#xd;&#xa;          &quot;policyType&quot;: &quot;DATA_PROTECTION&quot;,&#xd;&#xa;          &quot;taskType&quot;: &quot;SCHEDULE_POLICY&quot;,&#xd;&#xa;          &quot;description&quot;: &quot;Automatic schedules for the log backup&quot;&#xd;&#xa;        },&#xd;&#xa;        &quot;appGroup&quot;: {&#xd;&#xa;          &quot;appGroups&quot;: [&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 13,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_Sybase&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 114,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_POSTGRES&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 129,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_SAP_HANA&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 100,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_MySql&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 11,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_DB2&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 111,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_INFORMIX&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 101,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_SAP_FOR_ORACLE&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 90,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_SQL_POLICY&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 83,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_AppTypeIndexedBased&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 12,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_NotesDb&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 10,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;PACKAGEGRP_DB&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 10,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_ORACLE&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 14,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_XchangeDB&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 104,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_NotesDb_Transaction_Log&quot;&#xd;&#xa;            },&#xd;&#xa;            {&#xd;&#xa;              &quot;appGroupId&quot;: 134,&#xd;&#xa;              &quot;appGroupName&quot;: &quot;APPGRP_DISTRIBUTEDAPPS&quot;&#xd;&#xa;            }&#xd;&#xa;          ]&#xd;&#xa;        },&#xd;&#xa;        &quot;subTasks&quot;: [&#xd;&#xa;          {&#xd;&#xa;            &quot;subTask&quot;: {&#xd;&#xa;              &quot;subTaskName&quot;: &quot;Incremental automatic schedule for logs&quot;,&#xd;&#xa;              &quot;subTaskType&quot;: &quot;BACKUP&quot;,&#xd;&#xa;              &quot;operationType&quot;: &quot;BACKUP&quot;,&#xd;&#xa;              &quot;flags&quot;: 65536&#xd;&#xa;            },&#xd;&#xa;            &quot;pattern&quot;: {&#xd;&#xa;              &quot;freq_type&quot;: &quot;Automatic_Schedule&quot;,&#xd;&#xa;              &quot;timeZone&quot;: {}&#xd;&#xa;            },&#xd;&#xa;            &quot;options&quot;: {&#xd;&#xa;              &quot;backupOpts&quot;: {&#xd;&#xa;                &quot;backupLevel&quot;: &quot;INCREMENTAL&quot;,&#xd;&#xa;                &quot;dataOpt&quot;: {&#xd;&#xa;                  &quot;followMountPoints&quot;: true,&#xd;&#xa;                  &quot;useCatalogServer&quot;: true,&#xd;&#xa;                  &quot;enforceTransactionLogUsage&quot;: false,&#xd;&#xa;                  &quot;skipConsistencyCheck&quot;: false,&#xd;&#xa;                  &quot;autoCopy&quot;: false,&#xd;&#xa;                  &quot;daysBetweenSyntheticBackup&quot;: 7&#xd;&#xa;                },&#xd;&#xa;                &quot;oracleOptions&quot;: {&#xd;&#xa;                  &quot;backupArchLogOptions&quot;: {&#xd;&#xa;                    &quot;backupArchiveLogCriteria&quot;: &quot;ALL&quot;,&#xd;&#xa;                    &quot;startLSN&quot;: 1,&#xd;&#xa;                    &quot;endLSN&quot;: 1,&#xd;&#xa;                    &quot;backupArchiveLog&quot;: true&#xd;&#xa;                  },&#xd;&#xa;                  &quot;deleteArchLogOptions&quot;: {&#xd;&#xa;                    &quot;backupArchiveLogCriteria&quot;: &quot;NONE&quot;&#xd;&#xa;                  }&#xd;&#xa;                },&#xd;&#xa;                &quot;runIncrementalBackup&quot;: true,&#xd;&#xa;                &quot;incLevel&quot;: &quot;BEFORE_SYNTH&quot;,&#xd;&#xa;                &quot;cumulative&quot;: false,&#xd;&#xa;                &quot;doNotTruncateLog&quot;: false,&#xd;&#xa;                &quot;sybaseSkipFullafterLogBkp&quot;: false,&#xd;&#xa;                &quot;truncateLogsOnSource&quot;: false,&#xd;&#xa;                &quot;distAppsBackupOptions&quot;: {&#xd;&#xa;                  &quot;runDataBkp&quot;: false,&#xd;&#xa;                  &quot;runLogBkp&quot;: true&#xd;&#xa;                }&#xd;&#xa;              },&#xd;&#xa;              &quot;commonOpts&quot;: {&#xd;&#xa;                &quot;perfJobOpts&quot;: {},&#xd;&#xa;                &quot;automaticSchedulePattern&quot;: {&#xd;&#xa;                  &quot;minBackupInterval&quot;: 0,&#xd;&#xa;                  &quot;minBackupIntervalMinutes&quot;: 15,&#xd;&#xa;                  &quot;maxBackupInterval&quot;: 4,&#xd;&#xa;                  &quot;maxBackupIntervalMinutes&quot;: 0,&#xd;&#xa;                  &quot;logPercent&quot;: {&#xd;&#xa;                    &quot;enabled&quot;: true,&#xd;&#xa;                    &quot;threshold&quot;: 80&#xd;&#xa;                  },&#xd;&#xa;                  &quot;logFileNum&quot;: {&#xd;&#xa;                    &quot;enabled&quot;: true,&#xd;&#xa;                    &quot;threshold&quot;: 50&#xd;&#xa;                  },&#xd;&#xa;                  &quot;diskUsedPercent&quot;: {&#xd;&#xa;                    &quot;enabled&quot;: true,&#xd;&#xa;                    &quot;threshold&quot;: 80&#xd;&#xa;                  },&#xd;&#xa;                  &quot;useStorageSpaceFromMA&quot;: false,&#xd;&#xa;                  &quot;sweepStartTime&quot;: 86400&#xd;&#xa;                }&#xd;&#xa;              }&#xd;&#xa;            }&#xd;&#xa;          }&#xd;&#xa;        ]&#xd;&#xa;      },&#xd;&#xa;      &quot;slaInMinutes&quot;: 240,&#xd;&#xa;      &quot;rpoInMinutes&quot;: 240&#xd;&#xa;    },&#xd;&#xa;    &quot;inheritance&quot;: {&#xd;&#xa;      &quot;isSealed&quot;: true&#xd;&#xa;    },&#xd;&#xa;    &quot;snapInfo&quot;: {&#xd;&#xa;      &quot;noOfRecoveryPoints&quot;: 8,&#xd;&#xa;      &quot;snapToTapeSchedule&quot;: {&#xd;&#xa;        &quot;subTask&quot;: {&#xd;&#xa;          &quot;subTaskName&quot;: &quot;Snap to tape&quot;,&#xd;&#xa;          &quot;subTaskType&quot;: &quot;ADMIN&quot;,&#xd;&#xa;          &quot;operationType&quot;: &quot;SNAP_TO_TAPE&quot;,&#xd;&#xa;          &quot;flags&quot;: 0,&#xd;&#xa;          &quot;subTaskOrder&quot;: 0&#xd;&#xa;        },&#xd;&#xa;        &quot;pattern&quot;: {&#xd;&#xa;          &quot;name&quot;: &quot;Automatic backup copy&quot;,&#xd;&#xa;          &quot;freq_type&quot;: &quot;After_Job_Completes&quot;,&#xd;&#xa;          &quot;freq_interval&quot;: 240,&#xd;&#xa;          &quot;freq_recurrence_factor&quot;: 1,&#xd;&#xa;          &quot;active_start_time&quot;: 79200,&#xd;&#xa;          &quot;timeZone&quot;: {&#xd;&#xa;            &quot;TimeZoneName&quot;: &quot;Client Time Zone&quot;&#xd;&#xa;          }&#xd;&#xa;        },&#xd;&#xa;        &quot;options&quot;: {&#xd;&#xa;          &quot;backupOpts&quot;: {&#xd;&#xa;            &quot;backupLevel&quot;: &quot;NONE&quot;,&#xd;&#xa;            &quot;mediaOpt&quot;: {&#xd;&#xa;              &quot;markMediaFullOnSuccess&quot;: false,&#xd;&#xa;              &quot;startNewMedia&quot;: false,&#xd;&#xa;              &quot;auxcopyJobOption&quot;: {&#xd;&#xa;                &quot;autoCopy&quot;: true&#xd;&#xa;              }&#xd;&#xa;            },&#xd;&#xa;            &quot;dataOpt&quot;: {&#xd;&#xa;              &quot;daysBetweenSyntheticBackup&quot;: 0&#xd;&#xa;            },&#xd;&#xa;            &quot;runIncrementalBackup&quot;: true,&#xd;&#xa;            &quot;isSpHasInLineCopy&quot;: false,&#xd;&#xa;            &quot;doNotTruncateLog&quot;: false,&#xd;&#xa;            &quot;sybaseSkipFullafterLogBkp&quot;: false,&#xd;&#xa;            &quot;runSILOBackup&quot;: false&#xd;&#xa;          },&#xd;&#xa;          &quot;adminOpts&quot;: {&#xd;&#xa;            &quot;snapToTapeOption&quot;: {&#xd;&#xa;              &quot;allowMaximum&quot;: true&#xd;&#xa;            }&#xd;&#xa;          }&#xd;&#xa;        }&#xd;&#xa;      }&#xd;&#xa;    }&#xd;&#xa;  }&#xd;&#xa;}&#xd;&#xa;&lt;/postContent>&lt;postContentType>application/json; charset=UTF-8&lt;/postContentType>&lt;headers>&lt;name>Authtoken&lt;/name>&lt;value>QSDKONLY xpath:{/workflow/system/token}&lt;/value>&lt;/headers>&lt;headers>&lt;name>Accept&lt;/name>&lt;value>application/json&lt;/value>&lt;/headers>&lt;headers>&lt;name>operatorCompanyId&lt;/name>&lt;value>xpath:{/workflow/variables/OrganizationId}&lt;/value>&lt;/headers>&lt;/request>&lt;/inputs>"/>
        <transition activity="CommServDBQuery_2" commented="0"
            originalStyle="" points="" sourceX="230" sourceY="197"
            status="0" style="defaultEdge" targetX="595" targetY="282"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;xpath:{/workflow/HttpClient_1/statusCode} == 200;"/>
        </transition>
        <transition activity="WorkflowEnd_2" commented="0"
            originalStyle="" points="" sourceX="230" sourceY="197"
            status="0" style="defaultEdge" targetX="115" targetY="196"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589807584418" description="Ends the workflow"
        displayName="Success" height="34" interactive="0" jobMode="0"
        name="WorkflowEnd"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.EndActivity"
        uniqueName="WorkflowEnd_1" waitSetting="0" width="106" x="421" y="193">
        <inputs val="&lt;inputs>&lt;completionStatus class=&quot;workflow.types.WorkflowCompletionStatus&quot; _list_=&quot;false&quot; />&lt;failureMessage class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;/inputs>"/>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589820292767"
        description="activity to execute code snippets in the selected language"
        displayName="SetVars" height="34" interactive="0" jobMode="0"
        name="Script" namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.ScriptActivity"
        uniqueName="Script_2" waitSetting="0" width="100" x="184" y="114">
        <inputs val="&lt;inputs>&lt;script language=&quot;1&quot; script=&quot;String start_time = xpath:{/workflow/inputs/StartTime};&amp;#xA;String frequency = xpath:{/workflow/inputs/BackupFrequency}.toLowerCase();&amp;#xA;if(frequency.contains(&amp;quot;days&amp;quot;))&amp;#xA;{&amp;#xA;       String[] time = start_time.split(&amp;quot;:&amp;quot;);&amp;#xA;       int hrs = Integer.parseInt(time[0]);&amp;#xA;       int mins = Integer.parseInt(time[1]);&amp;#xA;       int secs = hrs*3600 + mins*60;&amp;#xA;       String epoch = secs + &amp;quot;&amp;quot;;&amp;#xA;       String[] days = frequency.split(&amp;quot; &amp;quot;);&amp;#xA;       String rpo = (Integer.parseInt(days[0])*24*60) + &amp;quot;&amp;quot;;&amp;#xA;       String desc = &amp;quot;Every day at &amp;quot;+ start_time;&amp;#xA;       workflow.setVariable(&amp;quot;RPOInMinutes&amp;quot;,rpo);&amp;#xA;       workflow.setVariable(&amp;quot;EpochStartTime&amp;quot;,epoch);&amp;#xA;       workflow.setVariable(&amp;quot;RPODescription&amp;quot;,desc);&amp;#xA;&amp;#xA;}&amp;#xA;else&amp;#xA;{&amp;#xA;       String[] hours = frequency.split(&amp;quot; &amp;quot;);&amp;#xA;       String mins = Integer.parseInt(hours[0])*60 + &amp;quot;&amp;quot;;&amp;#xA;       workflow.setVariable(&amp;quot;RPOInMinutes&amp;quot;,mins);&amp;#xA;       workflow.setVariable(&amp;quot;RPODescription&amp;quot;,&amp;quot;Continous schedule after 240 minutes&amp;quot;);&amp;#xA;       workflow.setVariable(&amp;quot;RPOFrequencyType&amp;quot;,&amp;quot;After_Job_Completes&amp;quot;);&amp;#xA;       workflow.setVariable(&amp;quot;EpochStartTime&amp;quot;,&amp;quot;0&amp;quot;);&amp;#xA;       workflow.setVariable(&amp;quot;EpochEndTime&amp;quot;,&amp;quot;0&amp;quot;);&amp;#xA;       workflow.setVariable(&amp;quot;FrequencyInterval&amp;quot;,&amp;quot;240&amp;quot;);&amp;#xA;       workflow.setVariable(&amp;quot;FrequencyRecFactor&amp;quot;,&amp;quot;0&amp;quot;);&amp;#xA;}&amp;#xA;&quot; />&lt;/inputs>"/>
        <transition activity="HttpClient_1" commented="0"
            originalStyle="" points="" sourceX="-72" sourceY="130"
            status="0" style="defaultEdge" targetX="-69" targetY="197"
            transitionIndex="0" x="-143" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589872741383" description="Ends the workflow"
        displayName="Failed" height="34" interactive="0" jobMode="0"
        name="WorkflowEnd"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.EndActivity"
        uniqueName="WorkflowEnd_2" waitSetting="0" width="106" x="45" y="180">
        <inputs val="&lt;inputs>&lt;completionStatus class=&quot;workflow.types.WorkflowCompletionStatus&quot; _list_=&quot;false&quot;>FAILED&lt;/completionStatus>&lt;failureMessage class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>xpath:{/workflow/HttpClient_1/output}&lt;/failureMessage>&lt;/inputs>"/>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590391523789"
        description="executes queries against a commcell database"
        displayName="Check for&#xa; Dedup Storage" height="34"
        interactive="0" jobMode="0" name="CommServDBQuery"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.CommServDBQuery"
        uniqueName="CommServDBQuery_1" waitSetting="0" width="143"
        x="159" y="40">
        <onExit language="1" script="if(xpath:{/workflow/CommServDBQuery_1/resultSets/rowCount}!=0)&#xd;&#xa;{&#xd;&#xa;    String dedupflags = &quot;\&quot;enableDeduplication\&quot;: \&quot;SET_TRUE\&quot;,&quot;+&#xd;&#xa;            &quot;\&quot;enableClientSideDedup\&quot;: \&quot;SET_TRUE\&quot;,&quot;+&#xd;&#xa;            &quot;\&quot;enableDASHFull\&quot;: \&quot;SET_TRUE\&quot;,&quot;+&#xd;&#xa;            &quot;\&quot;useGlobalDedupStore\&quot;: \&quot;SET_TRUE\&quot;&quot; ;&#xd;&#xa;     workflow.setVariable(&quot;DedupFlags&quot;,dedupflags);&#xd;&#xa;            }"/>
        <inputs val="&lt;inputs>&lt;commCell />&lt;query>select * from archgroup where (flags &amp;amp; 256) &amp;gt; 0 and name='xpath:{/workflow/inputs/Storage}'&lt;/query>&lt;/inputs>"/>
        <transition activity="Script_2" commented="0" originalStyle=""
            points="" sourceX="135" sourceY="78" status="0"
            style="defaultEdge" targetX="-41" targetY="120"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590413562338"
        description="executes queries against a commcell database"
        displayName="Get Storage policy" height="34" interactive="0"
        jobMode="0" name="CommServDBQuery"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.CommServDBQuery"
        uniqueName="CommServDBQuery_2" waitSetting="0" width="143"
        x="380" y="44">
        <inputs val="&lt;inputs>&lt;commCell />&lt;query>Select name from archGroup where id=(Select attrVal from app_planprop where &amp;#xD;&#xd;&#xa;componentNameId=(select id from app_plan where name='xpath:{/workflow/inputs/PlanName}') and attrName = 'Storage policy')&lt;/query>&lt;/inputs>"/>
        <transition activity="Execute_1" commented="0" originalStyle=""
            points="" sourceX="451" sourceY="61" status="0"
            style="defaultEdge" targetX="462" targetY="139"
            transitionIndex="0" x="0" y="0">
            <condition script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590413783882" description=""
        displayName="use alternate&#xa; data path" height="34"
        interactive="0" jobMode="0" name="Execute"
        namespaceUri="commvault.cte.workflow.activities.cmd.operation"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.cmd.operation.OperationExecute"
        uniqueName="Execute_1" waitSetting="0" width="120" x="402" y="122">
        <inputs val="&lt;inputs>&lt;inputXml class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>&amp;lt;App_UpdateStoragePolicyCopyReq&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&amp;lt;storagePolicyCopyInfo&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&amp;lt;StoragePolicyCopy&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&amp;lt;copyName&amp;gt;Primary&amp;lt;/copyName&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&amp;lt;storagePolicyName&amp;gt;xpath:{/workflow/CommServDBQuery_2/resultSets/row/col}&amp;lt;/storagePolicyName&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&amp;lt;/StoragePolicyCopy&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&amp;lt;copyFlags&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&amp;lt;switchIfOffline&amp;gt;1&amp;lt;/switchIfOffline&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&amp;lt;switchIfBusy&amp;gt;2&amp;lt;/switchIfBusy&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&amp;lt;roundRobbinDataPath&amp;gt;0&amp;lt;/roundRobbinDataPath&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&amp;lt;/copyFlags&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&amp;lt;dataPathConfiguration&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&amp;lt;resourcesOfflineWaitTimeInHoursMinutes&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;&amp;lt;hours&amp;gt;0&amp;lt;/hours&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;&amp;lt;minutes&amp;gt;0&amp;lt;/minutes&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&amp;lt;/resourcesOfflineWaitTimeInHoursMinutes&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&amp;lt;resourcesBusyWaitTimeInHoursMinutes&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;&amp;lt;hours/&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;&amp;lt;minutes/&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&#x9;&amp;lt;/resourcesBusyWaitTimeInHoursMinutes&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&#x9;&amp;lt;/dataPathConfiguration&amp;gt;&amp;#xD;&#xd;&#xa;&#x9;&amp;lt;/storagePolicyCopyInfo&amp;gt;&amp;#xD;&#xd;&#xa;&amp;lt;/App_UpdateStoragePolicyCopyReq&amp;gt;&lt;/inputXml>&lt;escapeXml class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>false&lt;/escapeXml>&lt;commandArgs class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;sessionOptions class=&quot;workflow.types.cmd.SessionOptions&quot; _list_=&quot;false&quot;>&lt;useImpersonatedAccount class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>true&lt;/useImpersonatedAccount>&lt;tokenFile class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;token class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;/sessionOptions>&lt;/inputs>"/>
        <transition activity="WorkflowEnd_1" commented="0"
            originalStyle="" points="" sourceX="462" sourceY="139"
            status="0" style="defaultEdge" targetX="461" targetY="206"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <onStart language="1" script="String sql = &quot;select id from umdsproviders where domainName = '&quot; + xpath:{/workflow/inputs/CompanyName} + &quot;'&quot;;&#xd;&#xa;    DataSet rs = csdb.execute(sql);&#xd;&#xa;    int OrganizationId = 0;&#xd;&#xa;    while(rs.hasNext()) {&#xd;&#xa;       OrganizationId = rs.get(&quot;id&quot;);&#xd;&#xa;    }&#xd;&#xa;    workflow.setVariable(&quot;OrganizationId&quot;, OrganizationId); &#xd;&#xa;    logger.info(&quot;>> OrganizationId: &quot; + Integer.toString(OrganizationId));"/>
</Workflow_WorkflowDefinition>
