<?xml version="1.0" encoding="UTF-8"?>
<Workflow_WorkflowDefinition apiMode="0" config="&lt;configuration />"
    description="Workflow to create a virtualization client"
    executeOnWeb="0"
    inputs="&lt;inputs>&lt;CompanyName class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>&lt;/CompanyName>&lt;SDDCName class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>&lt;/SDDCName>&lt;SDDCUserName class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>&lt;/SDDCUserName>&lt;SDDCPassword class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>&lt;/SDDCPassword>&lt;NoOfNodes class=&quot;java.lang.Integer&quot; _list_=&quot;false&quot;>&lt;/NoOfNodes>&lt;ovaPath class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;/inputs>"
    interactive="0" isHtmlDescription="0" manualPercentageComplete="0"
    name="CreateVirtualizationClient"
    outputs="&lt;outputs>&lt;MAList class=&quot;java.lang.String&quot; _list_=&quot;true&quot; />&lt;/outputs>"
    revision="$Revision: 1.2 $" tags=""
    uniqueGuid="022002e5-cd51-4a5f-b829-5a5be9282a74"
    variables="&lt;variables>&lt;clients class=&quot;java.lang.String&quot; _list_=&quot;true&quot; />&lt;Password class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;AuthCode class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;hypervisorId class=&quot;java.lang.Integer&quot; _list_=&quot;false&quot; />&lt;OrganizationId class=&quot;java.lang.Integer&quot; _list_=&quot;false&quot; />&lt;NodeRange class=&quot;java.lang.Integer&quot; _list_=&quot;true&quot; />&lt;NodeList class=&quot;java.lang.String&quot; _list_=&quot;true&quot; />&lt;simPackageId class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;VMname class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;/variables>"
    webHidden="0" workflowId="0">
    <schema>
        <outputs className="" name="outputs" type="">
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="1" name="MAList" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
        </outputs>
        <variables attribute="0" className="" name="variables" type="">
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0" inputType="java.lang.String"
                listType="1" name="clients" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.String" listType="0"
                name="Password" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.String" listType="0"
                name="AuthCode" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.Integer"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.Integer" listType="0"
                name="hypervisorId" type="{http://www.w3.org/2001/XMLSchema}integer"/>
            <children attribute="0" className="java.lang.Integer"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.Integer" listType="0"
                name="OrganizationId" type="{http://www.w3.org/2001/XMLSchema}integer"/>
            <children attribute="0" className="java.lang.Integer"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.Integer" listType="1"
                name="NodeRange" type="{http://www.w3.org/2001/XMLSchema}integer"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.String" listType="1"
                name="NodeList" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.String" listType="0"
                name="simPackageId" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.String" listType="0"
                name="VMname" type="{http://www.w3.org/2001/XMLSchema}string"/>
        </variables>
        <inputs attribute="0" className="" name="inputs" type="">
            <children attribute="0" className="java.lang.String"
                controlHidden="0" controlType="0" defaultValue=""
                displayName="" documentation="" hidden="0"
                inputType="java.lang.String" listType="0"
                maximumValue="" minimumValue="" name="CompanyName"
                readOnly="0" required="1" searchable="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlHidden="0" controlType="0" defaultValue=""
                displayName="" documentation="" hidden="0"
                inputType="java.lang.String" listType="0"
                maximumValue="" minimumValue="" name="SDDCName"
                readOnly="0" required="1" searchable="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlHidden="0" controlType="0" defaultValue=""
                displayName="" documentation="" hidden="0"
                inputType="java.lang.String" listType="0"
                maximumValue="" minimumValue="" name="SDDCUserName"
                readOnly="0" required="1" searchable="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.String"
                controlHidden="0" controlType="0" defaultValue=""
                displayName="" documentation="" hidden="0"
                inputType="java.lang.String" listType="0"
                maximumValue="" minimumValue="" name="SDDCPassword"
                readOnly="0" required="1" searchable="0" type="{http://www.w3.org/2001/XMLSchema}string"/>
            <children attribute="0" className="java.lang.Integer"
                controlType="0" defaultValue="" displayName=""
                documentation="" hidden="0"
                inputType="java.lang.Integer" listType="0"
                name="NoOfNodes" readOnly="0" type="{http://www.w3.org/2001/XMLSchema}integer"/>
            <children attribute="0" className="java.lang.String"
                controlType="0" defaultValue="" displayName=""
                hidden="0" inputType="java.lang.String" listType="0"
                name="ovaPath" type="{http://www.w3.org/2001/XMLSchema}string"/>
        </inputs>
        <config className="" name="configuration" type=""/>
    </schema>
    <Start commented="0" continueOnFailure="0" created="0"
        description="" displayName="Start" height="36" interactive="0"
        jobMode="0" name="Start" originalStyle="" skipAttempt="0"
        style="image;image=/images/jgraphx/house.png"
        uniqueName="Start_1" waitSetting="0" width="58" x="45" y="41">
        <inputs val="&lt;inputs />"/>
        <transition activity="ImpersonateCreator_2" commented="0"
            originalStyle="" points="" sourceX="74" sourceY="59"
            status="0" style="defaultEdge" targetX="207" targetY="67"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Start>
    <Activity commented="0" continueOnFailure="0"
        created="1589870756656"
        description="activity to execute code snippets in the selected language"
        displayName="Client list" height="34" interactive="0"
        jobMode="0" name="Script"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.ScriptActivity"
        uniqueName="Script_1" waitSetting="0" width="100" x="191" y="170">
        <inputs val="&lt;inputs>&lt;script language=&quot;1&quot; script=&quot;import java.util.*;&amp;#xD;&amp;#xA;import java.io.*;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;String temp = &amp;quot;&amp;quot;;&amp;#xD;&amp;#xA;try&amp;#xD;&amp;#xA;{&amp;#xD;&amp;#xA;a = xpath:{/workflow/CommServDBQuery_2/resultSets/row}.toArray();&amp;#xD;&amp;#xA;int len = a.length;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;for(int i =0; i&amp;lt; len ; i++)&amp;#xD;&amp;#xA;{&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;  temp = temp + &amp;quot;\n&amp;quot; + &amp;quot;&amp;lt;associatedClients clientId=\&amp;quot;&amp;quot; + a[i] + &amp;quot;\&amp;quot; /&amp;gt;&amp;quot;;&amp;#xD;&amp;#xA;}&amp;#xD;&amp;#xA;}&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;catch(NullPointerException e)&amp;#xD;&amp;#xA;{&amp;#xD;&amp;#xA;logger.info(&amp;quot;Caught NullPointerException&amp;quot;);&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;}&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;return temp;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;&quot; />&lt;/inputs>"/>
        <transition activity="HttpClient_4" commented="0"
            originalStyle="" points="" sourceX="224" sourceY="212"
            status="0" style="defaultEdge" targetX="225" targetY="290"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589873739051" description="performs http operations"
        displayName="Create client group" height="34" interactive="0"
        jobMode="0" name="HttpClient"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.HttpClientActivity"
        uniqueName="HttpClient_4" waitSetting="0" width="138" x="350" y="10">
        <inputs val="&lt;inputs>&lt;request>&lt;url>/SearchSvc/CVWebService.svc/ClientGroup&lt;/url>&lt;method>POST&lt;/method>&lt;postType>Raw&lt;/postType>&lt;postContent>&amp;lt;App_PerformClientGroupReq clientGroupOperationType=&quot;1&quot;&amp;gt;&#xd;&#xa;   &amp;lt;clientGroupDetail isSmartClientGroup=&quot;0&quot; associatedClientsOperationType=&quot;1&quot; isDiscoveredClientGroup=&quot;0&quot;&amp;gt;&#xd;&#xa;      &amp;lt;clientGroup  clientGroupName=&quot;VSAAccessNodes-xpath:{/workflow/inputs/CompanyName}-Group&quot; /&amp;gt;&#xd;&#xa;        xpath:{/workflow/Script_1/output}&#xd;&#xa;   &amp;lt;/clientGroupDetail&amp;gt;&#xd;&#xa;&amp;lt;/App_PerformClientGroupReq&amp;gt;&lt;/postContent>&lt;postContentType>application/xml; charset=UTF-8&lt;/postContentType>&lt;headers>&lt;name>Authtoken&lt;/name>&lt;value>QSDKONLY xpath:{/workflow/system/token}&lt;/value>&lt;/headers>&lt;headers>&lt;name>Accept&lt;/name>&lt;value>application/xml&lt;/value>&lt;/headers>&lt;/request>&lt;/inputs>"/>
        <transition activity="XPathQuery_2" commented="0"
            originalStyle="" points="" sourceX="235" sourceY="265"
            status="0" style="defaultEdge" targetX="441" targetY="244"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
        <onEnter language="1" script="logger.info(xpath:{/workflow/Script_1/output});"/>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589880992441"
        description="retrieves a list of values from xml"
        displayName="Client Group ID" height="34" interactive="0"
        jobMode="0" name="XPathQuery"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.XMLQueryActivity"
        uniqueName="XPathQuery_2" waitSetting="0" width="135" x="360" y="74">
        <inputs val="&lt;inputs>&lt;xml class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>xpath:{/workflow/HttpClient_4/output}&lt;/xml>&lt;xpath class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>/App_PerformClientGroupResp/clientGroupDetail/clientGroup/@clientGroupId&lt;/xpath>&lt;outputType class=&quot;workflow.types.SimpleType&quot; _list_=&quot;false&quot;>Integer&lt;/outputType>&lt;outputAsList class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>false&lt;/outputAsList>&lt;/inputs>"/>
        <transition activity="DisableLogging_1" commented="0"
            originalStyle="" points="" sourceX="427" sourceY="91"
            status="0" style="defaultEdge" targetX="422" targetY="141"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589883228370" description=""
        displayName="Create Hypervisor" height="34" interactive="0"
        jobMode="0" name="Execute"
        namespaceUri="commvault.cte.workflow.activities.cmd.operation"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.cmd.operation.OperationExecute"
        uniqueName="Execute_2" waitSetting="0" width="132" x="351" y="177">
        <inputs val="&lt;inputs>&lt;inputXml class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>&amp;lt;App_CreatePseudoClientRequest&amp;gt;&amp;#xD;&#xd;&#xa;   &amp;lt;clientInfo clientType=&quot;12&quot;&amp;gt;&amp;#xD;&#xd;&#xa;      &amp;lt;virtualServerClientProperties&amp;gt;&amp;#xD;&#xd;&#xa;         &amp;lt;virtualServerInstanceInfo vsInstanceType=&quot;1&quot;&amp;gt;&amp;#xD;&#xd;&#xa;            &amp;lt;vmwareVendor vcenterHostName=&quot;xpath:{/workflow/inputs/SDDCName}&quot;&amp;gt;&amp;#xD;&#xd;&#xa;               &amp;lt;virtualCenter userName=&quot;xpath:{/workflow/inputs/SDDCUserName}&quot; password=&quot;xpath:{/workflow/inputs/SDDCPassword}&quot; /&amp;gt;&amp;#xD;&#xd;&#xa;            &amp;lt;/vmwareVendor&amp;gt;&amp;#xD;&#xd;&#xa;            &amp;lt;associatedClients&amp;gt;&amp;#xD;&#xd;&#xa;               &amp;lt;memberServers&amp;gt;&amp;#xD;&#xd;&#xa;                  &amp;lt;client clientGroupId=&quot;xpath:{/workflow/XPathQuery_2/result}&quot;/&amp;gt;&amp;#xD;&#xd;&#xa;               &amp;lt;/memberServers&amp;gt;&amp;#xD;&#xd;&#xa;            &amp;lt;/associatedClients&amp;gt;&amp;#xD;&#xd;&#xa;         &amp;lt;/virtualServerInstanceInfo&amp;gt;&amp;#xD;&#xd;&#xa;      &amp;lt;/virtualServerClientProperties&amp;gt;&amp;#xD;&#xd;&#xa;   &amp;lt;/clientInfo&amp;gt;&amp;#xD;&#xd;&#xa;   &amp;lt;entity clientName=&quot;xpath:{/workflow/inputs/CompanyName}_xpath:{/workflow/inputs/SDDCName}&quot; /&amp;gt;&amp;#xD;&#xd;&#xa;&amp;lt;/App_CreatePseudoClientRequest&amp;gt;&lt;/inputXml>&lt;escapeXml class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>false&lt;/escapeXml>&lt;commandArgs class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;sessionOptions class=&quot;workflow.types.cmd.SessionOptions&quot; _list_=&quot;false&quot;>&lt;useImpersonatedAccount class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>true&lt;/useImpersonatedAccount>&lt;tokenFile class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;token class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;/sessionOptions>&lt;/inputs>"/>
        <transition activity="EnableLogging_1" commented="0"
            originalStyle="" points="" sourceX="417" sourceY="194"
            status="0" style="defaultEdge" targetX="418" targetY="242"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589954557026"
        description="retrieves a list of values from xml"
        displayName="Hypervisor Name" height="34" interactive="0"
        jobMode="0" name="XPathQuery"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.XMLQueryActivity"
        uniqueName="XPathQuery_3" waitSetting="0" width="127" x="355" y="283">
        <inputs val="&lt;inputs>&lt;xml class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>xpath:{/workflow/Execute_2/outputXml}&lt;/xml>&lt;xpath class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>/App_CreatePseudoClientResponse/response/entity/clientName&lt;/xpath>&lt;outputType class=&quot;workflow.types.SimpleType&quot; _list_=&quot;false&quot;>String&lt;/outputType>&lt;outputAsList class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>false&lt;/outputAsList>&lt;/inputs>"/>
        <transition activity="ImpersonateCreator_1" commented="0"
            originalStyle="" points="" sourceX="420" sourceY="215"
            status="0" style="defaultEdge" targetX="612" targetY="16"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589954882618"
        description="impersonates the user who created the workflow"
        displayName="IC" height="34" interactive="0" jobMode="0"
        name="ImpersonateCreator"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.ImpersonateCreator"
        uniqueName="ImpersonateCreator_1" waitSetting="0" width="69"
        x="578" y="8">
        <inputs val="&lt;inputs />"/>
        <transition activity="CommServDBQuery_1" commented="0"
            originalStyle="" points="" sourceX="650" sourceY="25"
            status="0" style="defaultEdge" targetX="651" targetY="89"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589954901321"
        description="executes queries against a commcell database"
        displayName="InstanceID" height="34" interactive="0" jobMode="0"
        name="CommServDBQuery"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.CommServDBQuery"
        uniqueName="CommServDBQuery_1" waitSetting="0" width="120"
        x="547" y="67">
        <onExit language="1" script="String sql = &quot;select id from app_client where name = '&quot; + xpath:{/workflow/XPathQuery_3/result} + &quot;'&quot;;&#xd;&#xa;    DataSet rs = csdb.execute(sql);&#xd;&#xa;    int hypervisorId = 0;&#xd;&#xa;    while(rs.hasNext()) {&#xd;&#xa;       hypervisorId = rs.get(&quot;id&quot;);&#xd;&#xa;    }&#xd;&#xa;    workflow.setVariable(&quot;hypervisorId&quot;, hypervisorId); "/>
        <inputs val="&lt;inputs>&lt;commCell />&lt;query>select instance from app_application where clientId = (select id from app_client where name = 'xpath:{/workflow/XPathQuery_3/result}')&lt;/query>&lt;/inputs>"/>
        <transition activity="ImpersonateExecutor_1" commented="0"
            originalStyle="" points="" sourceX="607" sourceY="84"
            status="0" style="defaultEdge" targetX="614" targetY="146"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589955747611" description=""
        displayName="Replace nodes" height="34" interactive="0"
        jobMode="0" name="Execute"
        namespaceUri="commvault.cte.workflow.activities.cmd.operation"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.cmd.operation.OperationExecute"
        uniqueName="Execute_3" waitSetting="0" width="114" x="562" y="262">
        <inputs val="&lt;inputs>&lt;inputXml class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&amp;lt;App_UpdateInstancePropertiesRequest&amp;gt;&amp;#xD;&#xd;&#xa;    &amp;lt;instanceProperties&amp;gt;&amp;#xD;&#xd;&#xa;        &amp;lt;virtualServerInstance&amp;gt;&amp;#xD;&#xd;&#xa;            &amp;lt;associatedClients&amp;gt;&amp;#xD;&#xd;&#xa;                xpath:{/workflow/Script_2/output}&amp;#xD;&#xd;&#xa;            &amp;lt;/associatedClients&amp;gt;&amp;#xD;&#xd;&#xa;        &amp;lt;/virtualServerInstance&amp;gt;&amp;#xD;&#xd;&#xa;    &amp;lt;/instanceProperties&amp;gt;&amp;#xD;&#xd;&#xa;    &amp;lt;association&amp;gt;&amp;#xD;&#xd;&#xa;        &amp;lt;entity instanceId = &quot;xpath:{/workflow/CommServDBQuery_1/resultSets/row/col}&quot;/&amp;gt;&amp;#xD;&#xd;&#xa;    &amp;lt;/association&amp;gt;&amp;#xD;&#xd;&#xa;&amp;lt;/App_UpdateInstancePropertiesRequest&amp;gt;&amp;#xD;&#xd;&#xa;&lt;/inputXml>&lt;escapeXml class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>false&lt;/escapeXml>&lt;commandArgs class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;sessionOptions class=&quot;workflow.types.cmd.SessionOptions&quot; _list_=&quot;false&quot;>&lt;useImpersonatedAccount class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>true&lt;/useImpersonatedAccount>&lt;tokenFile class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;token class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;/sessionOptions>&lt;/inputs>"/>
        <transition activity="HttpClient_7" commented="0"
            originalStyle="" points="" sourceX="619" sourceY="296"
            status="0" style="defaultEdge" targetX="619" targetY="324"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589959637008"
        description="impersonates the user who executes the workflow"
        displayName="IE" height="34" interactive="0" jobMode="0"
        name="ImpersonateExecutor"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.ImpersonateUser"
        uniqueName="ImpersonateExecutor_1" waitSetting="0" width="75"
        x="575" y="127">
        <inputs val="&lt;inputs />"/>
        <transition activity="ForEach_1" commented="0" originalStyle=""
            points="" sourceX="612" sourceY="144" status="0"
            style="defaultEdge" targetX="856" targetY="-2"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589960487937" description="Ends the workflow"
        displayName="Success" height="34" interactive="0" jobMode="0"
        name="WorkflowEnd"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.EndActivity"
        uniqueName="WorkflowEnd_2" waitSetting="0" width="106" x="564" y="459">
        <outputs outputs="&lt;outputs>&lt;MAList class=&quot;java.lang.String&quot; _list_=&quot;true&quot;>xpath:{/workflow/variables/NodeList}&lt;/MAList>&lt;/outputs>"/>
        <inputs val="&lt;inputs>&lt;completionStatus class=&quot;workflow.types.WorkflowCompletionStatus&quot; _list_=&quot;false&quot; />&lt;failureMessage class=&quot;java.lang.String&quot; _list_=&quot;false&quot; />&lt;/inputs>"/>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589973636300"
        description="executes queries against a commcell database"
        displayName="Get Nodes" height="34" interactive="0" jobMode="0"
        name="CommServDBQuery"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.CommServDBQuery"
        uniqueName="CommServDBQuery_2" waitSetting="0" width="98"
        x="202" y="34">
        <inputs val="&lt;inputs>&lt;commCell />&lt;query>select distinct clientId from simInstalledPackages si&amp;#xD;&#xd;&#xa;left outer join&amp;#xD;&#xd;&#xa;APP_ClientProp ac&amp;#xD;&#xd;&#xa;on&amp;#xD;&#xd;&#xa;si.ClientId = ac.componentNameId and ac.attrName = 'Installation Company ID'&amp;#xD;&#xd;&#xa;where simPackageId xpath:{/workflow/variables/simPackageId} and ac.componentNameId IS NULL &lt;/query>&lt;/inputs>"/>
        <transition activity="ImpersonateExecutor_2" commented="0"
            originalStyle="" points="" sourceX="219" sourceY="120"
            status="0" style="defaultEdge" targetX="216" targetY="193"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589974640230"
        description="impersonates the user who created the workflow"
        displayName="IC" height="34" interactive="0" jobMode="0"
        name="ImpersonateCreator"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.ImpersonateCreator"
        uniqueName="ImpersonateCreator_2" waitSetting="0" width="69"
        x="31" y="112">
        <inputs val="&lt;inputs />"/>
        <transition activity="CommServDBQuery_3" commented="0"
            originalStyle="" points="" sourceX="65" sourceY="129"
            status="0" style="defaultEdge" targetX="79" targetY="211"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1589974671013"
        description="impersonates the user who executes the workflow"
        displayName="IE" height="34" interactive="0" jobMode="0"
        name="ImpersonateExecutor"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.ImpersonateUser"
        uniqueName="ImpersonateExecutor_2" waitSetting="0" width="75"
        x="198" y="101">
        <inputs val="&lt;inputs />"/>
        <transition activity="Script_1" commented="0" originalStyle=""
            points="" sourceX="220" sourceY="190" status="0"
            style="defaultEdge" targetX="222" targetY="237"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590057744588"
        description="turns off all logging, except for errors, for current job"
        displayName="DisableLogging" height="34" interactive="0"
        jobMode="0" name="DisableLogging"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.LoggingDisable"
        uniqueName="DisableLogging_1" waitSetting="0" width="117"
        x="363" y="123">
        <inputs val="&lt;inputs />"/>
        <transition activity="Execute_2" commented="0" originalStyle=""
            points="" sourceX="421" sourceY="140" status="0"
            style="defaultEdge" targetX="421" targetY="192"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590057749224"
        description="turns on all logging for the current job"
        displayName="EnableLogging" height="34" interactive="0"
        jobMode="0" name="EnableLogging"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.LoggingEnable"
        uniqueName="EnableLogging_1" waitSetting="0" width="113" x="367" y="228">
        <inputs val="&lt;inputs />"/>
        <transition activity="XPathQuery_3" commented="0"
            originalStyle="" points="" sourceX="423" sourceY="245"
            status="0" style="defaultEdge" targetX="423" targetY="290"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590124291805" description="performs http operations"
        displayName="Delete Client Group" height="34" interactive="0"
        jobMode="0" name="HttpClient"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.HttpClientActivity"
        uniqueName="HttpClient_5" waitSetting="0" width="138" x="536" y="399">
        <inputs val="&lt;inputs>&lt;request>&lt;url>/SearchSvc/CVWebService.svc/ClientGroup/xpath:{/workflow/XPathQuery_2/result}&lt;/url>&lt;method>DELETE&lt;/method>&lt;postType>Raw&lt;/postType>&lt;postContent>&lt;/postContent>&lt;postContentType>application/xml; charset=UTF-8&lt;/postContentType>&lt;headers>&lt;name>Authtoken&lt;/name>&lt;value>QSDKONLY xpath:{/workflow/system/token}&lt;/value>&lt;/headers>&lt;headers>&lt;name>Accept&lt;/name>&lt;value>application/json&lt;/value>&lt;/headers>&lt;/request>&lt;/inputs>"/>
        <transition activity="WorkflowEnd_3" commented="0"
            originalStyle="" points="" sourceX="624" sourceY="278"
            status="0" style="defaultEdge" targetX="796" targetY="279"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;xpath:{/workflow/HttpClient_5/statusCode}!=200;"/>
        </transition>
        <transition activity="WorkflowEnd_2" commented="0"
            originalStyle="" points="" sourceX="624" sourceY="278"
            status="0" style="defaultEdge" targetX="620" targetY="349"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;xpath:{/workflow/HttpClient_5/statusCode}==200;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590124730840" description="Ends the workflow"
        displayName="Completed with&#xa;Error" height="34"
        interactive="0" jobMode="0" name="WorkflowEnd"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.EndActivity"
        uniqueName="WorkflowEnd_3" waitSetting="0" width="118" x="830" y="308">
        <inputs val="&lt;inputs>&lt;completionStatus class=&quot;workflow.types.WorkflowCompletionStatus&quot; _list_=&quot;false&quot;>COMPLETED_WITH_ERRORS&lt;/completionStatus>&lt;failureMessage class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>Failed to delete Client Group&lt;/failureMessage>&lt;/inputs>"/>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590411331367"
        description="executes queries against a commcell database"
        displayName="Check if CG exists" height="34" interactive="0"
        jobMode="0" name="CommServDBQuery"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.CommServDBQuery"
        uniqueName="CommServDBQuery_3" waitSetting="0" width="143" x="6" y="181">
        <onExit language="1" script="String PathFinder = xpath:{/workflow/inputs/ovaPath};&#xd;&#xa;if(PathFinder!=null &amp;&amp; PathFinder.length()!=0)&#xd;&#xa;{&#xd;&#xa;    if(Character.compare(PathFinder.charAt(0),'/')==0)  &#xd;&#xa;    { workflow.setVariable(&quot;simPackageId&quot;,&quot;= 1136&quot;);}&#xd;&#xa;    else&#xd;&#xa;    {workflow.setVariable(&quot;simPackageId&quot;,&quot;= 713&quot;);}&#xd;&#xa;}&#xd;&#xa;else{&#xd;&#xa;workflow.setVariable(&quot;simPackageId&quot;,&quot;in (713,1136)&quot;);}"/>
        <inputs val="&lt;inputs>&lt;commCell />&lt;query>select id from APP_ClientGroup where name like 'VSAAccessNodes-xpath:{/workflow/inputs/CompanyName}-Group'&lt;/query>&lt;/inputs>"/>
        <transition activity="HttpClient_6" commented="0"
            originalStyle="" points="" sourceX="77" sourceY="198"
            status="0" style="defaultEdge" targetX="73" targetY="262"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;xpath:{/workflow/CommServDBQuery_3/resultSets/rowCount}!=0;"/>
        </transition>
        <transition activity="CommServDBQuery_2" commented="0"
            originalStyle="" points="" sourceX="77" sourceY="198"
            status="0" style="defaultEdge" targetX="203" targetY="40"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;xpath:{/workflow/CommServDBQuery_3/resultSets/rowCount}==0;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590411394958" description="performs http operations"
        displayName="Delete Client Group" height="34" interactive="0"
        jobMode="0" name="HttpClient"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.HttpClientActivity"
        uniqueName="HttpClient_6" waitSetting="0" width="138" x="4" y="245">
        <inputs val="&lt;inputs>&lt;request>&lt;url>/SearchSvc/CVWebService.svc/ClientGroup/xpath:{/workflow/CommServDBQuery_3/resultSets/row/col}&lt;/url>&lt;method>DELETE&lt;/method>&lt;postType>Raw&lt;/postType>&lt;postContent>&lt;/postContent>&lt;postContentType>application/xml; charset=UTF-8&lt;/postContentType>&lt;headers>&lt;name>Authtoken&lt;/name>&lt;value>QSDKONLY xpath:{/workflow/system/token}&lt;/value>&lt;/headers>&lt;headers>&lt;name>Accept&lt;/name>&lt;value>application/json&lt;/value>&lt;/headers>&lt;/request>&lt;/inputs>"/>
        <transition activity="CommServDBQuery_2" commented="0"
            originalStyle="" points="" sourceX="73" sourceY="262"
            status="0" style="defaultEdge" targetX="205" targetY="45"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590419334592" description="performs http operations"
        displayName="UpdateCompany&#xa;ForHypervisor" height="30"
        interactive="0" jobMode="0" name="HttpClient"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.HttpClientActivity"
        uniqueName="HttpClient_7" waitSetting="0" width="123" x="549" y="338">
        <inputs val="&lt;inputs>&lt;request>&lt;url>/SearchSvc/CVWebService.svc/company/xpath:{/workflow/variables/OrganizationId}/company-association&lt;/url>&lt;method>PUT&lt;/method>&lt;postType>Raw&lt;/postType>&lt;postContent>&amp;lt;Api_AssociateCompanyReq&amp;gt;&amp;lt;entities clientName=&quot;xpath:{/workflow/XPathQuery_3/result}&quot; clientId=&quot;xpath:{/workflow/variables/hypervisorId}&quot; _type_=&quot;3&quot; /&amp;gt;&amp;lt;/Api_AssociateCompanyReq&amp;gt;&lt;/postContent>&lt;postContentType>application/xml; charset=UTF-8&lt;/postContentType>&lt;headers>&lt;name>Authtoken&lt;/name>&lt;value>QSDKONLY xpath:{/workflow/system/token}&lt;/value>&lt;/headers>&lt;headers>&lt;name>Accept&lt;/name>&lt;value>application/xml&lt;/value>&lt;/headers>&lt;/request>&lt;/inputs>"/>
        <transition activity="XPathQuery_1" commented="0"
            originalStyle="" points="" sourceX="610" sourceY="353"
            status="0" style="defaultEdge" targetX="475" targetY="364"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590038316714"
        description="retrieves a list of values from xml"
        displayName="XPathQuery" height="34" interactive="0" jobMode="0"
        name="XPathQuery"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.XMLQueryActivity"
        uniqueName="XPathQuery_1" waitSetting="0" width="100" x="404" y="350">
        <inputs val="&lt;inputs>&lt;xml class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>xpath:{/workflow/HttpClient_7/output}&lt;/xml>&lt;xpath class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>/App_GenericResp/@errorCode&lt;/xpath>&lt;outputType class=&quot;workflow.types.SimpleType&quot; _list_=&quot;false&quot;>Integer&lt;/outputType>&lt;outputAsList class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>false&lt;/outputAsList>&lt;/inputs>"/>
        <transition activity="WorkflowEnd_4" commented="0"
            originalStyle="" points="" sourceX="454" sourceY="367"
            status="0" style="defaultEdge" targetX="326" targetY="419"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;xpath:{/workflow/XPathQuery_1/result}!=0;"/>
        </transition>
        <transition activity="HttpClient_5" commented="0"
            originalStyle="" points="454.0,415.0" sourceX="454"
            sourceY="367" status="0" style="defaultEdge" targetX="582"
            targetY="419" transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;xpath:{/workflow/XPathQuery_1/result}==0;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590420101425" description="Ends the workflow"
        displayName="WorkflowEnd" height="34" interactive="0"
        jobMode="0" name="WorkflowEnd"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.EndActivity"
        uniqueName="WorkflowEnd_4" waitSetting="0" width="106" x="274" y="405">
        <inputs val="&lt;inputs>&lt;completionStatus class=&quot;workflow.types.WorkflowCompletionStatus&quot; _list_=&quot;false&quot;>FAILED&lt;/completionStatus>&lt;failureMessage class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>failed to update Company for Hypervisor&lt;/failureMessage>&lt;/inputs>"/>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590470291645"
        description="iterates a group of activities over a list of values"
        displayName="ForEach Node" height="240" interactive="0"
        jobMode="0" name="ForEach"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0" style="swimlane"
        uniqueName="ForEach_1" waitSetting="0" width="160" x="799" y="-5">
        <inputs val="&lt;inputs>&lt;name class=&quot;java.lang.String&quot;>NodeRange&lt;/name>&lt;values class=&quot;java.lang.Object&quot; _list_=&quot;false&quot;>xpath:{/workflow/variables/NodeRange}&lt;/values>&lt;numberOfParallelExecutions class=&quot;java.lang.Integer&quot; _list_=&quot;false&quot;>xpath:{/workflow/inputs/NoOfNodes}&lt;/numberOfParallelExecutions>&lt;continueOnFailure class=&quot;java.lang.Boolean&quot; _list_=&quot;false&quot;>false&lt;/continueOnFailure>&lt;/inputs>"/>
        <superProcess>
            <Start commented="0" continueOnFailure="0"
                created="1590470291646" description=""
                displayName="Start" height="30" interactive="0"
                jobMode="0" name="Start" originalStyle=""
                skipAttempt="0"
                style="label;fillColor=#FFFF33;gradientColor=#FFFF00"
                uniqueName="Start_2" waitSetting="0" width="120" x="18" y="30">
                <onExit language="1" script="String VMname = &quot;Node_&quot; + xpath:{/workflow/ForEach_1/NodeRange} + &quot;_&quot; + xpath:{/workflow/inputs/SDDCName};&#xd;&#xa;VMname = VMname.substring(0,Math.min(VMname.length(),60));&#xd;&#xa;workflow.setLocalVariable(&quot;VMname&quot;,VMname);"/>
                <inputs val="&lt;inputs />"/>
                <transition activity="DeployVM_1" commented="0"
                    originalStyle="" points="" sourceX="78" sourceY="45"
                    status="0" style="defaultEdge" targetX="82"
                    targetY="97" transitionIndex="0" x="0" y="0">
                    <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
                </transition>
            </Start>
            <Activity commented="0" continueOnFailure="0"
                created="1590384751465" description=""
                displayName="DeployVM" height="34" interactive="0"
                jobMode="0" name="DeployVM"
                namespaceUri="commvault.workflow.activities"
                originalStyle="" skipAttempt="0"
                style="label;image=commvault.cte.workflow.activities.ExecuteWorkflow"
                uniqueName="DeployVM_1" waitSetting="0" width="100"
                x="28" y="94">
                <inputs val="&lt;inputs>&lt;vmName class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>java:{workflow.getLocalVariable(&quot;VMname&quot;)}&lt;/vmName>&lt;hypervisorName class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>xpath:{/workflow/XPathQuery_3/result}&lt;/hypervisorName>&lt;vmHost class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>Cluster-1&lt;/vmHost>&lt;resourcePool class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>Compute-ResourcePool&lt;/resourcePool>&lt;dataCenterName class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>SDDC-Datacenter&lt;/dataCenterName>&lt;vmNetwork class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>computenetwork&lt;/vmNetwork>&lt;dataStore class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>WorkloadDatastore&lt;/dataStore>&lt;companyName class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>xpath:{/workflow/inputs/CompanyName}&lt;/companyName>&lt;ovaPath class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>xpath:{/workflow/inputs/ovaPath}&lt;/ovaPath>&lt;/inputs>"/>
                <transition activity="AddToList_1" commented="0"
                    originalStyle="" points="" sourceX="78"
                    sourceY="111" status="0" style="defaultEdge"
                    targetX="87" targetY="175" transitionIndex="0" x="0" y="0">
                    <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
                </transition>
            </Activity>
            <Activity commented="0" continueOnFailure="0"
                created="1590470624148"
                description="utility to add objects to a list"
                displayName="AddToList" height="34" interactive="0"
                jobMode="0" name="AddToList"
                namespaceUri="commvault.cte.workflow.activities"
                originalStyle="" skipAttempt="0"
                style="label;image=commvault.cte.workflow.activities.ListActivityAdd"
                uniqueName="AddToList_1" waitSetting="0" width="100"
                x="33" y="164">
                <inputs val="&lt;inputs>&lt;addToList class=&quot;java.lang.String&quot; _list_=&quot;false&quot;>xpath:{/workflow/variables/NodeList}&lt;/addToList>&lt;itemToAdd class=&quot;java.lang.Object&quot; _list_=&quot;false&quot;>xpath:{/workflow/DeployVM_1/clientName}&lt;/itemToAdd>&lt;/inputs>"/>
            </Activity>
        </superProcess>
        <activitySchema>
            <outputs name="outputs">
                <children attribute="0" className="java.lang.Integer"
                    controlType="0" defaultValue="" displayName=""
                    hidden="0" inputType="java.lang.Integer"
                    listType="0" name="NodeRange" type="{http://www.w3.org/2001/XMLSchema}integer"/>
            </outputs>
            <inputs>
                <children className="java.lang.String"
                    inputType="java.lang.String" name="name" type="{http://www.w3.org/2001/XMLSchema}string"/>
                <children className="java.lang.Object"
                    inputType="java.lang.Object" name="values" type="{http://www.w3.org/2001/XMLSchema}anyType"/>
                <children className="java.lang.Integer" defaultValue="1"
                    inputType="java.lang.Integer"
                    name="numberOfParallelExecutions" type="{http://www.w3.org/2001/XMLSchema}integer"/>
                <children className="java.lang.Boolean"
                    defaultValue="false" inputType="java.lang.Boolean"
                    name="continueOnFailure" type="{http://www.w3.org/2001/XMLSchema}boolean"/>
            </inputs>
        </activitySchema>
        <transition activity="Script_2" commented="0" originalStyle=""
            points="" sourceX="879" sourceY="115" status="0"
            style="defaultEdge" targetX="617" targetY="268"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <Activity commented="0" continueOnFailure="0"
        created="1590470772086"
        description="activity to execute code snippets in the selected language"
        displayName="Member server&#xa; List" height="27"
        interactive="0" jobMode="0" name="Script"
        namespaceUri="commvault.cte.workflow.activities"
        originalStyle="" skipAttempt="0"
        style="label;image=commvault.cte.workflow.activities.ScriptActivity"
        uniqueName="Script_2" waitSetting="0" width="117" x="631" y="193">
        <inputs val="&lt;inputs>&lt;script language=&quot;1&quot; script=&quot;import java.util.*;&amp;#xD;&amp;#xA;import java.io.*;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;String temp = &amp;quot;&amp;quot;;&amp;#xD;&amp;#xA;try&amp;#xD;&amp;#xA;{&amp;#xD;&amp;#xA;a = xpath:{/workflow/variables/NodeList}.toArray();&amp;#xD;&amp;#xA;int len = a.length;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;for(int i =0; i&amp;lt; len ; i++)&amp;#xD;&amp;#xA;{&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;  temp = temp + &amp;quot;\n&amp;quot; + &amp;quot;&amp;lt;memberServers&amp;gt;&amp;lt;client clientName=\&amp;quot;&amp;quot;+a[i]+&amp;quot;\&amp;quot;/&amp;gt;&amp;lt;/memberServers&amp;gt;&amp;quot;;&amp;#xD;&amp;#xA;}&amp;#xD;&amp;#xA;}&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;catch(NullPointerException e)&amp;#xD;&amp;#xA;{&amp;#xD;&amp;#xA;logger.info(&amp;quot;Caught NullPointerException&amp;quot;);&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;}&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;return temp;&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;&quot; />&lt;/inputs>"/>
        <transition activity="Execute_3" commented="0" originalStyle=""
            points="" sourceX="719" sourceY="213" status="0"
            style="defaultEdge" targetX="646" targetY="274"
            transitionIndex="0" x="0" y="0">
            <condition language="1" script="/*&#xa;The expression should return a boolean. Use the variable name &quot;activity&quot; to refer to the previous activity object. Example:&#xa;activity.exitCode==0;&#xa;*/&#xa;"/>
        </transition>
    </Activity>
    <onStart language="1" script="import java.util.*;&#xd;&#xa;import java.util.stream.IntStream;&#xd;&#xa;String sql = &quot;select id from umdsproviders where domainName = '&quot; + xpath:{/workflow/inputs/CompanyName} + &quot;'&quot;;&#xd;&#xa;    DataSet rs = csdb.execute(sql);&#xd;&#xa;    int OrganizationId = 0;&#xd;&#xa;    while(rs.hasNext()) {&#xd;&#xa;       OrganizationId = rs.get(&quot;id&quot;);&#xd;&#xa;    }&#xd;&#xa;    workflow.setVariable(&quot;OrganizationId&quot;, OrganizationId); &#xd;&#xa;    logger.info(&quot;>> OrganizationId: &quot; + Integer.toString(OrganizationId));&#xd;&#xa;    List range = new ArrayList(xpath:{/workflow/inputs/NoOfNodes} - 1 + 1);&#xd;&#xa;      for (int i=1; i&lt;=xpath:{/workflow/inputs/NoOfNodes}; i++) {&#xd;&#xa;        range.add(i);&#xd;&#xa;      }&#xd;&#xa;    workflow.setVariable(&quot;NodeRange&quot;, range);&#xd;&#xa;    logger.info(&quot;NodeRange :&quot;+workflow.getVariable(&quot;NodeRange&quot;));&#xd;&#xa;    "/>
    <formProperties css="" formVersion="0" javaScript="" pageMode="0">
        <rules/>
    </formProperties>
</Workflow_WorkflowDefinition>
